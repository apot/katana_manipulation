<?xml version="1.0"?>
<launch>
  <node pkg="planning_environment" type="environment_server" output="screen" name="environment_server">      
    <remap from="collision_map" to="collision_map_occ" />
    <remap from="collision_map_update" to="collision_map_occ_update" />
    
    <!-- DIAMONDBACK: deprecated <param name="group" type="string" value="arm" /> -->

    <param name="allow_valid_collisions" type="bool" value="false" />

    <param name="collision_map_safety_timeout" type="double" value="100000.0" /> <!-- unit: seconds -->
    <param name="joint_states_safety_timeout" type="double" value="10.0" />  <!-- unit: seconds -->
    <param name="tf_safety_timeout" type="double" value="1.0" />

    <!-- TODO: change back to 200 when no longer needed to prevent self-preemption due to non-moving joints -->
    <param name="velocity_history_size" type="int" value="20000" />

    <!-- not quite sure what this does; the source code of collision_models says:
      - a list of static planes bounding the environment
      - bounding_planes must be a list of 4-tuples (a b c d) that define planes ax+by+cz+d=0 --> 
    <param name="bounding_planes" type="string" value="0 0 1 -0.01" />

    <param name="object_padd" type="double" value="0.04" />
    <param name="pointcloud_padd" type="double" value="0.00" />

    <param name="contacts_to_compute_for_display" type="int" value="50" />
    <param name="joint_state_cache_allowed_difference" type="double" value=".1" />		  

    <rosparam command="load" file="$(find katana_arm_navigation)/actions/config/environment_server_padding.yaml" />		

  </node>
</launch>

